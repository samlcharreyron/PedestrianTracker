using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace PedestrianTracker
{
    public class KalmanTester
    {
        Kalman kalmanFilter = new Kalman();
        double[] x = new double[] { -0.260936588048935,
-0.249865919351578,
-0.238472819328308,
-0.236187949776649,
-0.213496714830399,
-0.191567823290825,
-0.176977053284645,
-0.170808881521225,
-0.174696713685989,
-0.161925673484802,
-0.146325424313545,
-0.133451223373413,
-0.107070811092854,
-0.000211358477827 };

        double [] z = new double[] {1.98086941242218,
2.13736605644226,
2.28560161590576,
2.44060587882996,
2.62778544425964,
2.79305124282837,
2.94620180130005,
3.08657097816467,
3.24342799186707,
3.44211483001709,
3.62932014465332,
3.73252272605896,
3.8498649597168,
3.94616460800171};

        double[] vx = new double[] {0.156291514635086,
0.420517086982727,
0.329694658517838,
0.282232522964478,
0.405898243188858,
1.00603532791138,
1.02400040626526,
0.635912299156189,
0.482915788888931,
0.648615121841431,
0.77616012096405,
1.860431432724,
0.906192600727081,
1.69081449508667};

        double[] vz = new double[]{1.08190739154816,
1.58077418804169,
1.49732899665833,
1.56569957733154,
1.87179565429688,
1.6693514585495,
1.50147604942322,
1.41787040233612,
1.56857013702393,
1.9479101896286,
1.91025841236114,
1.04245030879974,
1.17342233657837,
0.962996542453766};

        double[] T = new double[]{165,
99,
99,
99,
100,
99,
102,
99,
100,
102,
98,
99,
100,
100};


        public void run()
        {
            kalmanFilter.Reset(x[0], z[0], vx[0], vz[0], 100);

            for (int i = 0; i < x.Count();i++)
            {
                kalmanFilter.Prediction(T[i]);
                kalmanFilter.Covariance(T[i]);
                Matrix kalmanOutput = kalmanFilter.update(vx[i], vz[i]);
            }
        }
    }
}
